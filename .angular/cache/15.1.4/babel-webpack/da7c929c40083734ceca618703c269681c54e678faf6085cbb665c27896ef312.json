{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet HomeComponent = class HomeComponent {\n  constructor(http, layoutService, toastr, loaderService) {\n    this.http = http;\n    this.layoutService = layoutService;\n    this.toastr = toastr;\n    this.loaderService = loaderService;\n    this.deps = [];\n    this.model2 = {\n      dep_name: '',\n      dep_desc: '',\n      dep_supervisor_id: 0,\n      parent_id: 0,\n      dep_supervisor_name: ''\n    };\n    layoutService.subHeaderTitle = 'Departments';\n  }\n  ngOnInit() {\n    this.getDepartments();\n    this.toastr.success('Page Loaded Successfully', 'Successeded Process');\n  }\n  resetForm2() {\n    this.model2 = {\n      dep_name: '',\n      dep_desc: '',\n      dep_supervisor_id: 0,\n      parent_id: 0,\n      dep_supervisor_name: ''\n    };\n    document.getElementById('modalCloser')?.click();\n  }\n  loadModel(depId, openModal) {\n    this.deps.forEach(d => {\n      if (d.dep_id == depId) {\n        this.model2 = d;\n        if (openModal) {\n          document.getElementById('modalCloser')?.click();\n        }\n      }\n    });\n  }\n  submitForm2() {\n    this.http.post(\"https://localhost:44337/api/department\", this.model2).subscribe({\n      next: result => {\n        this.getDepartments();\n        this.resetForm2();\n      },\n      error: err => {\n        console.log(err);\n      }\n    });\n  }\n  getDepartments() {\n    this.http.get(\"https://madrastyapis.azurewebsites.net/api/department\").subscribe({\n      next: result => {\n        this.deps = result;\n      },\n      error: err => {\n        console.log(err);\n      }\n    });\n  }\n};\nHomeComponent = __decorate([Component({\n  selector: 'app-home',\n  templateUrl: './home.component.html',\n  styleUrls: ['./home.component.scss']\n})], HomeComponent);\nexport { HomeComponent };","map":{"version":3,"mappings":";AAAA,SAASA,SAAS,QAAgB,eAAe;AAU1C,IAAMC,aAAa,GAAnB,MAAMA,aAAa;EASxBC,YAAoBC,IAAgB,EAAQC,aAA4B,EAASC,MAAqB,EAASC,aAAmB;IAA9G,SAAI,GAAJH,IAAI;IAAoB,kBAAa,GAAbC,aAAa;IAAwB,WAAM,GAANC,MAAM;IAAwB,kBAAa,GAAbC,aAAa;IARtH,SAAI,GAAW,EAAE;IACxB,WAAM,GAAG;MACRC,QAAQ,EAAC,EAAE;MACXC,QAAQ,EAAC,EAAE;MACXC,iBAAiB,EAAC,CAAC;MACnBC,SAAS,EAAE,CAAC;MACZC,mBAAmB,EAAC;KACpB;IAEEP,aAAa,CAACQ,cAAc,GAAG,aAAa;EAC9C;EAEAC,QAAQ;IACN,IAAI,CAACC,cAAc,EAAE;IACrB,IAAI,CAACT,MAAM,CAACU,OAAO,CAAC,0BAA0B,EAAE,qBAAqB,CAAC;EACxE;EAEAC,UAAU;IACR,IAAI,CAACC,MAAM,GAAG;MACZV,QAAQ,EAAC,EAAE;MACXC,QAAQ,EAAC,EAAE;MACXC,iBAAiB,EAAC,CAAC;MACnBC,SAAS,EAAE,CAAC;MACZC,mBAAmB,EAAC;KACpB;IAEDO,QAAQ,CAACC,cAAc,CAAC,aAAa,CAAC,EAAEC,KAAK,EAAE;EAClD;EAEAC,SAAS,CAACC,KAAY,EAACC,SAAiB;IACtC,IAAI,CAACC,IAAI,CAACC,OAAO,CAAEC,CAAC,IAAG;MACrB,IAAGA,CAAC,CAACC,MAAM,IAAIL,KAAK,EAAC;QACnB,IAAI,CAACL,MAAM,GAAGS,CAAC;QACf,IAAGH,SAAS,EAAC;UACXL,QAAQ,CAACC,cAAc,CAAC,aAAa,CAAC,EAAEC,KAAK,EAAE;;;IAGrD,CAAC,CAAC;EACJ;EAEAQ,WAAW;IACT,IAAI,CAACzB,IAAI,CAAC0B,IAAI,CAAC,wCAAwC,EAAC,IAAI,CAACZ,MAAM,CAAC,CAACa,SAAS,CAC5E;MACEC,IAAI,EAAGC,MAAY,IAAG;QACpB,IAAI,CAAClB,cAAc,EAAE;QACrB,IAAI,CAACE,UAAU,EAAE;MACnB,CAAC;MACDiB,KAAK,EAAGC,GAAG,IAAG;QACZC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;MAClB;KACD,CACF;EACH;EAEApB,cAAc;IACZ,IAAI,CAACX,IAAI,CAACkC,GAAG,CAAC,uDAAuD,CAAC,CAACP,SAAS,CAC9E;MACEC,IAAI,EAAGC,MAAY,IAAG;QACpB,IAAI,CAACR,IAAI,GAAGQ,MAAM;MACpB,CAAC;MACDC,KAAK,EAAGC,GAAG,IAAG;QACZC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;MAClB;KACD,CACF;EACH;CACD;AAnEYjC,aAAa,eALzBD,SAAS,CAAC;EACTsC,QAAQ,EAAE,UAAU;EACpBC,WAAW,EAAE,uBAAuB;EACpCC,SAAS,EAAE,CAAC,uBAAuB;CACpC,CAAC,GACWvC,aAAa,CAmEzB;SAnEYA,aAAa","names":["Component","HomeComponent","constructor","http","layoutService","toastr","loaderService","dep_name","dep_desc","dep_supervisor_id","parent_id","dep_supervisor_name","subHeaderTitle","ngOnInit","getDepartments","success","resetForm2","model2","document","getElementById","click","loadModel","depId","openModal","deps","forEach","d","dep_id","submitForm2","post","subscribe","next","result","error","err","console","log","get","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["D:\\Madrasty\\MadrastyUI\\src\\app\\pages\\components\\home\\home.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { LayoutService } from 'src/app/layout/services/layout.service';\nimport { ToastrService } from 'ngx-toastr';\n\n@Component({\n  selector: 'app-home',\n  templateUrl: './home.component.html',\n  styleUrls: ['./home.component.scss']\n})\nexport class HomeComponent implements OnInit {\n public deps : any[] = [];\n model2 = {\n  dep_name:'',\n  dep_desc:'',\n  dep_supervisor_id:0,\n  parent_id: 0,\n  dep_supervisor_name:''\n }\n  constructor(private http: HttpClient,public layoutService: LayoutService,private toastr: ToastrService,private loaderService: Load) {\n    layoutService.subHeaderTitle = 'Departments';\n  }\n\n  ngOnInit(): void {\n    this.getDepartments();\n    this.toastr.success('Page Loaded Successfully', 'Successeded Process')\n  }\n\n  resetForm2(){\n    this.model2 = {\n      dep_name:'',\n      dep_desc:'',\n      dep_supervisor_id:0,\n      parent_id: 0,\n      dep_supervisor_name:''\n     }\n\n     document.getElementById('modalCloser')?.click();\n  }\n\n  loadModel(depId:number,openModal:boolean){\n    this.deps.forEach((d)=>{\n      if(d.dep_id == depId){\n        this.model2 = d;\n        if(openModal){\n          document.getElementById('modalCloser')?.click();\n        }\n      }\n    });\n  }\n\n  submitForm2(){\n    this.http.post(\"https://localhost:44337/api/department\",this.model2).subscribe(\n      {\n        next: (result : any)=>{\n          this.getDepartments();\n          this.resetForm2();\n        },\n        error: (err)=>{\n          console.log(err);\n        }\n      }\n    )\n  }\n\n  getDepartments(){\n    this.http.get(\"https://madrastyapis.azurewebsites.net/api/department\").subscribe(\n      {\n        next: (result : any)=>{\n          this.deps = result;\n        },\n        error: (err)=>{\n          console.log(err);\n        }\n      }\n    )\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}