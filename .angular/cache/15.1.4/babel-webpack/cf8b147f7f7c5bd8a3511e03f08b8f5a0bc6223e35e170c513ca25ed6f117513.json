{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"src/app/layout/services/layout.service\";\nimport * as i3 from \"ngx-toastr\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/forms\";\nfunction HomeComponent_option_52_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 49);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const dep_r3 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", dep_r3.dep_id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(dep_r3.dep_name);\n  }\n}\nfunction HomeComponent_tr_67_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\")(10, \"button\", 50);\n    i0.ɵɵlistener(\"click\", function HomeComponent_tr_67_Template_button_click_10_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r6);\n      const dep_r4 = restoredCtx.$implicit;\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.openModal(dep_r4.dep_id));\n    });\n    i0.ɵɵtext(11, \"Edit\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(12, \" \\u00A0\\u00A0\\u00A0 \");\n    i0.ɵɵelementStart(13, \"button\", 51);\n    i0.ɵɵlistener(\"click\", function HomeComponent_tr_67_Template_button_click_13_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r6);\n      const dep_r4 = restoredCtx.$implicit;\n      const ctx_r7 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r7.openModal(dep_r4.dep_id));\n    });\n    i0.ɵɵtext(14, \"Delete\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const dep_r4 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(dep_r4.dep_id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(dep_r4.dep_name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(dep_r4.dep_desc);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(dep_r4.dep_supervisor_name);\n  }\n}\nexport class HomeComponent {\n  constructor(http, layoutService, toastr) {\n    this.http = http;\n    this.layoutService = layoutService;\n    this.toastr = toastr;\n    this.deps = [];\n    this.model2 = {\n      dep_name: '',\n      dep_desc: '',\n      dep_supervisor_id: 0,\n      parent_id: 0,\n      dep_supervisor_name: ''\n    };\n    layoutService.subHeaderTitle = 'Departments';\n  }\n  ngOnInit() {\n    this.getDepartments();\n    //this.toastr.success('Page Loaded Successfully', 'Successeded Process')\n  }\n\n  resetForm2() {\n    this.model2 = {\n      dep_name: '',\n      dep_desc: '',\n      dep_supervisor_id: 0,\n      parent_id: 0,\n      dep_supervisor_name: ''\n    };\n    document.getElementById('modalCloser')?.click();\n  }\n  loadModel(depId, openModal) {\n    this.deps.forEach(d => {\n      if (d.dep_id == depId) {\n        this.model2 = d;\n        if (openModal) {\n          document.getElementById('modalCloser')?.click();\n        }\n      }\n    });\n  }\n  submitForm2() {\n    this.http.post(\"https://madrastyapis.azurewebsites.net/api/department\", this.model2).subscribe({\n      next: result => {\n        this.toastr.warning('dfnjsdknvljkdcnvlkjvnxczm,vn.mz,xn');\n        this.getDepartments();\n        this.resetForm2();\n      },\n      error: err => {\n        this.toastr.error('dfnjsdknvljkdcnvlkjvnxczm,vn.mz,xn');\n        console.log(err);\n      }\n    });\n  }\n  openModal(depId) {\n    this.deps.forEach(d => {\n      if (d.dep_id == depId) {\n        this.model2 = d;\n        document.getElementById('modalOpener')?.click();\n      }\n    });\n  }\n  getDepartments() {\n    this.http.get(\"https://madrastyapis.azurewebsites.net/api/department\").subscribe({\n      next: result => {\n        this.deps = result;\n      },\n      error: err => {\n        console.log(err);\n      }\n    });\n  }\n}\nHomeComponent.ɵfac = function HomeComponent_Factory(t) {\n  return new (t || HomeComponent)(i0.ɵɵdirectiveInject(i1.HttpClient), i0.ɵɵdirectiveInject(i2.LayoutService), i0.ɵɵdirectiveInject(i3.ToastrService));\n};\nHomeComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: HomeComponent,\n  selectors: [[\"app-home\"]],\n  decls: 94,\n  vars: 4,\n  consts: [[1, \"row\"], [1, \"col-xl-12\", \"col-lg-12\", \"order-lg-1\", \"order-xl-1\"], [1, \"kt-portlet\", \"kt-portlet--mobile\"], [1, \"kt-portlet__head\", \"kt-portlet__head--lg\"], [1, \"kt-portlet__head-label\"], [1, \"kt-portlet__head-icon\"], [1, \"kt-font-brand\", \"flaticon2-line-chart\"], [1, \"kt-portlet__head-title\"], [1, \"kt-portlet__head-toolbar\"], [1, \"kt-portlet__head-wrapper\"], [1, \"kt-portlet__head-actions\"], [1, \"dropdown\", \"dropdown-inline\"], [\"type\", \"button\", \"data-toggle\", \"dropdown\", \"aria-haspopup\", \"true\", \"aria-expanded\", \"false\", 1, \"btn\", \"btn-default\", \"btn-icon-sm\", \"dropdown-toggle\"], [1, \"la\", \"la-download\"], [1, \"dropdown-menu\", \"dropdown-menu-right\"], [1, \"kt-nav\"], [1, \"kt-nav__section\", \"kt-nav__section--first\"], [1, \"kt-nav__section-text\"], [1, \"kt-nav__item\"], [\"href\", \"#\", 1, \"kt-nav__link\"], [1, \"kt-nav__link-icon\", \"la\", \"la-print\"], [1, \"kt-nav__link-text\"], [1, \"kt-nav__link-icon\", \"la\", \"la-copy\"], [1, \"kt-nav__link-icon\", \"la\", \"la-file-excel-o\"], [1, \"kt-nav__link-icon\", \"la\", \"la-file-text-o\"], [1, \"kt-nav__link-icon\", \"la\", \"la-file-pdf-o\"], [\"type\", \"button\", \"data-toggle\", \"modal\", \"data-target\", \"#kt_modal_4_2\", \"id\", \"modalOpener\", 1, \"btn\", \"btn-brand\", \"btn-elevate\", \"btn-icon-sm\"], [1, \"la\", \"la-plus\"], [1, \"kt-portlet__body\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"id\", \"kt_table_1\", 1, \"table\", \"table-striped-\", \"table-bordered\", \"table-hover\", \"table-checkable\"], [4, \"ngFor\", \"ngForOf\"], [\"id\", \"kt_modal_4_2\", \"tabindex\", \"-1\", \"role\", \"dialog\", \"aria-labelledby\", \"exampleModalLabel\", \"aria-hidden\", \"true\", 1, \"modal\", \"fade\", 2, \"border-radius\", \"25px\"], [\"role\", \"document\", 1, \"modal-dialog\", \"modal-xl\"], [1, \"modal-content\", 2, \"border-radius\", \"25px\"], [1, \"modal-header\", \"bg-primary\", \"text-light\", 2, \"border-radius\", \"50px\"], [1, \"fa\", \"fa-user\"], [\"id\", \"exampleModalLabel\"], [\"type\", \"button\", \"data-dismiss\", \"modal\", \"aria-label\", \"Close\", 1, \"close\", 2, \"color\", \"white !important\"], [1, \"modal-body\"], [1, \"kt-form\"], [\"dep2Form\", \"ngForm\"], [1, \"form-group\"], [\"type\", \"text\", \"required\", \"\", \"name\", \"dep_name\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"exampleInputPassword1\"], [\"type\", \"text\", \"required\", \"\", \"name\", \"dep_desc\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [1, \"modal-footer\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", 3, \"click\"], [\"type\", \"reset\", \"id\", \"modalCloser\", \"data-dismiss\", \"modal\", 1, \"btn\", \"btn-secondary\", 3, \"click\"], [3, \"value\"], [1, \"btn\", \"btn-outline-info\", 3, \"click\"], [1, \"btn\", \"btn-outline-danger\", 3, \"click\"]],\n  template: function HomeComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"div\", 4)(5, \"span\", 5);\n      i0.ɵɵelement(6, \"i\", 6);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"h3\", 7);\n      i0.ɵɵtext(8, \" Departments \");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(9, \"div\", 8)(10, \"div\", 9)(11, \"div\", 10)(12, \"div\", 11)(13, \"button\", 12);\n      i0.ɵɵelement(14, \"i\", 13);\n      i0.ɵɵtext(15, \" Export \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(16, \"div\", 14)(17, \"ul\", 15)(18, \"li\", 16)(19, \"span\", 17);\n      i0.ɵɵtext(20, \"Choose an option\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(21, \"li\", 18)(22, \"a\", 19);\n      i0.ɵɵelement(23, \"i\", 20);\n      i0.ɵɵelementStart(24, \"span\", 21);\n      i0.ɵɵtext(25, \"Print\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(26, \"li\", 18)(27, \"a\", 19);\n      i0.ɵɵelement(28, \"i\", 22);\n      i0.ɵɵelementStart(29, \"span\", 21);\n      i0.ɵɵtext(30, \"Copy\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(31, \"li\", 18)(32, \"a\", 19);\n      i0.ɵɵelement(33, \"i\", 23);\n      i0.ɵɵelementStart(34, \"span\", 21);\n      i0.ɵɵtext(35, \"Excel\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(36, \"li\", 18)(37, \"a\", 19);\n      i0.ɵɵelement(38, \"i\", 24);\n      i0.ɵɵelementStart(39, \"span\", 21);\n      i0.ɵɵtext(40, \"CSV\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(41, \"li\", 18)(42, \"a\", 19);\n      i0.ɵɵelement(43, \"i\", 25);\n      i0.ɵɵelementStart(44, \"span\", 21);\n      i0.ɵɵtext(45, \"PDF\");\n      i0.ɵɵelementEnd()()()()()();\n      i0.ɵɵtext(46, \" \\u00A0 \");\n      i0.ɵɵelementStart(47, \"button\", 26);\n      i0.ɵɵelement(48, \"i\", 27);\n      i0.ɵɵtext(49, \" New Record \");\n      i0.ɵɵelementEnd()()()()();\n      i0.ɵɵelementStart(50, \"div\", 28)(51, \"select\");\n      i0.ɵɵtemplate(52, HomeComponent_option_52_Template, 2, 2, \"option\", 29);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(53, \"table\", 30)(54, \"thead\")(55, \"tr\")(56, \"th\");\n      i0.ɵɵtext(57, \"Department ID\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(58, \"th\");\n      i0.ɵɵtext(59, \"Department Name\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(60, \"th\");\n      i0.ɵɵtext(61, \"Department Desc\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(62, \"th\");\n      i0.ɵɵtext(63, \"Department Supervisor Name\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(64, \"th\");\n      i0.ɵɵtext(65, \"#\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(66, \"tbody\");\n      i0.ɵɵtemplate(67, HomeComponent_tr_67_Template, 15, 4, \"tr\", 31);\n      i0.ɵɵelementEnd()()()()()();\n      i0.ɵɵelementStart(68, \"div\", 32)(69, \"div\", 33)(70, \"div\", 34)(71, \"div\", 35);\n      i0.ɵɵelement(72, \"i\", 36);\n      i0.ɵɵtext(73, \"\\u00A0\\u00A0\\u00A0\\u00A0\\u00A0 \");\n      i0.ɵɵelementStart(74, \"h5\", 37);\n      i0.ɵɵtext(75, \"New Department\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(76, \"button\", 38);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(77, \"div\", 39)(78, \"form\", 40, 41)(80, \"div\", 28)(81, \"div\", 42)(82, \"label\");\n      i0.ɵɵtext(83, \"Department Name\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(84, \"input\", 43);\n      i0.ɵɵlistener(\"ngModelChange\", function HomeComponent_Template_input_ngModelChange_84_listener($event) {\n        return ctx.model2.dep_name = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(85, \"div\", 42)(86, \"label\", 44);\n      i0.ɵɵtext(87, \"Department Desc\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(88, \"input\", 45);\n      i0.ɵɵlistener(\"ngModelChange\", function HomeComponent_Template_input_ngModelChange_88_listener($event) {\n        return ctx.model2.dep_desc = $event;\n      });\n      i0.ɵɵelementEnd()()()()();\n      i0.ɵɵelementStart(89, \"div\", 46)(90, \"button\", 47);\n      i0.ɵɵlistener(\"click\", function HomeComponent_Template_button_click_90_listener() {\n        return ctx.submitForm2();\n      });\n      i0.ɵɵtext(91, \"Submit\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(92, \"button\", 48);\n      i0.ɵɵlistener(\"click\", function HomeComponent_Template_button_click_92_listener() {\n        return ctx.resetForm2();\n      });\n      i0.ɵɵtext(93, \"Cancel\");\n      i0.ɵɵelementEnd()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(52);\n      i0.ɵɵproperty(\"ngForOf\", ctx.deps);\n      i0.ɵɵadvance(15);\n      i0.ɵɵproperty(\"ngForOf\", ctx.deps);\n      i0.ɵɵadvance(17);\n      i0.ɵɵproperty(\"ngModel\", ctx.model2.dep_name);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.model2.dep_desc);\n    }\n  },\n  dependencies: [i4.NgForOf, i5.ɵNgNoValidate, i5.NgSelectOption, i5.ɵNgSelectMultipleOption, i5.DefaultValueAccessor, i5.NgControlStatus, i5.NgControlStatusGroup, i5.RequiredValidator, i5.NgModel, i5.NgForm],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","HomeComponent","constructor","http","layoutService","toastr","dep_name","dep_desc","dep_supervisor_id","parent_id","dep_supervisor_name","subHeaderTitle","ngOnInit","getDepartments","resetForm2","model2","document","getElementById","click","loadModel","depId","openModal","deps","forEach","d","dep_id","submitForm2","post","subscribe","next","result","warning","error","err","console","log","get","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["D:\\Madrasty\\MadrastyUI\\src\\app\\pages\\components\\home\\home.component.html","D:\\Madrasty\\MadrastyUI\\src\\app\\pages\\components\\home\\home.component.ts"],"sourcesContent":["<div class=\"row\">\n    <div class=\"col-xl-12 col-lg-12 order-lg-1 order-xl-1\">\n        <div class=\"kt-portlet kt-portlet--mobile\">\n            <div class=\"kt-portlet__head kt-portlet__head--lg\">\n                <div class=\"kt-portlet__head-label\">\n                    <span class=\"kt-portlet__head-icon\">\n                        <i class=\"kt-font-brand flaticon2-line-chart\"></i>\n                    </span>\n                    <h3 class=\"kt-portlet__head-title\">\n                        Departments\n                    </h3>\n                </div>\n                <div class=\"kt-portlet__head-toolbar\">\n                    <div class=\"kt-portlet__head-wrapper\">\n                        <div class=\"kt-portlet__head-actions\">\n                            <div class=\"dropdown dropdown-inline\">\n                                <button type=\"button\" class=\"btn btn-default btn-icon-sm dropdown-toggle\"\n                                    data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n                                    <i class=\"la la-download\"></i> Export\n                                </button>\n                                <div class=\"dropdown-menu dropdown-menu-right\">\n                                    <ul class=\"kt-nav\">\n                                        <li class=\"kt-nav__section kt-nav__section--first\">\n                                            <span class=\"kt-nav__section-text\">Choose an option</span>\n                                        </li>\n                                        <li class=\"kt-nav__item\">\n                                            <a href=\"#\" class=\"kt-nav__link\">\n                                                <i class=\"kt-nav__link-icon la la-print\"></i>\n                                                <span class=\"kt-nav__link-text\">Print</span>\n                                            </a>\n                                        </li>\n                                        <li class=\"kt-nav__item\">\n                                            <a href=\"#\" class=\"kt-nav__link\">\n                                                <i class=\"kt-nav__link-icon la la-copy\"></i>\n                                                <span class=\"kt-nav__link-text\">Copy</span>\n                                            </a>\n                                        </li>\n                                        <li class=\"kt-nav__item\">\n                                            <a href=\"#\" class=\"kt-nav__link\">\n                                                <i class=\"kt-nav__link-icon la la-file-excel-o\"></i>\n                                                <span class=\"kt-nav__link-text\">Excel</span>\n                                            </a>\n                                        </li>\n                                        <li class=\"kt-nav__item\">\n                                            <a href=\"#\" class=\"kt-nav__link\">\n                                                <i class=\"kt-nav__link-icon la la-file-text-o\"></i>\n                                                <span class=\"kt-nav__link-text\">CSV</span>\n                                            </a>\n                                        </li>\n                                        <li class=\"kt-nav__item\">\n                                            <a href=\"#\" class=\"kt-nav__link\">\n                                                <i class=\"kt-nav__link-icon la la-file-pdf-o\"></i>\n                                                <span class=\"kt-nav__link-text\">PDF</span>\n                                            </a>\n                                        </li>\n                                    </ul>\n                                </div>\n                            </div>\n                            &nbsp;\n                            <button class=\"btn btn-brand btn-elevate btn-icon-sm\" type=\"button\" data-toggle=\"modal\"\n                                data-target=\"#kt_modal_4_2\" id=\"modalOpener\">\n                                <i class=\"la la-plus\"></i>\n                                New Record\n                            </button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class=\"kt-portlet__body\">\n\n                <select >\n                    <option *ngFor=\"let dep of deps\" [value]=\"dep.dep_id\">{{dep.dep_name}}</option>\n                </select>\n\n                <!--begin: Datatable -->\n                <table class=\"table table-striped- table-bordered table-hover table-checkable\" id=\"kt_table_1\">\n                    <thead>\n                        <tr>\n                            <th>Department ID</th>\n                            <th>Department Name</th>\n                            <th>Department Desc</th>\n                            <th>Department Supervisor Name</th>\n                            <th>#</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <tr *ngFor=\"let dep of deps\">\n                            <td>{{dep.dep_id}}</td>\n                            <td>{{dep.dep_name}}</td>\n                            <td>{{dep.dep_desc}}</td>\n                            <td>{{dep.dep_supervisor_name}}</td>\n                            <td>\n                                <button class=\"btn btn-outline-info\" (click)=\"openModal(dep.dep_id)\">Edit</button> &nbsp;&nbsp;&nbsp;\n                                <button class=\"btn btn-outline-danger\" (click)=\"openModal(dep.dep_id)\">Delete</button>\n                            </td>\n                        </tr>\n                    </tbody>\n                </table>\n                <!--end: Datatable -->\n            </div>\n        </div>\n        <!-- <router-outlet></router-outlet> -->\n    </div>\n\n</div>\n<div class=\"modal fade\" id=\"kt_modal_4_2\" style=\"border-radius: 25px;\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\"\n    aria-hidden=\"true\">\n    <div class=\"modal-dialog modal-xl\" role=\"document\">\n        <div class=\"modal-content\" style=\"border-radius: 25px;\">\n            <div class=\"modal-header bg-primary text-light\" style=\"border-radius: 50px;\">\n                <i class=\"fa fa-user\"></i>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n                <h5 id=\"exampleModalLabel\">New Department</h5>\n                <button type=\"button\" class=\"close\" data-dismiss=\"modal\" style=\"color: white !important;\" aria-label=\"Close\">\n                </button>\n            </div>\n            <div class=\"modal-body\">\n                <form class=\"kt-form\" #dep2Form=\"ngForm\">\n                    <div class=\"kt-portlet__body\">\n\n                        <div class=\"form-group\">\n                            <label>Department Name</label>\n                            <input type=\"text\" class=\"form-control\" required [(ngModel)]=\"model2.dep_name\"\n                                name=\"dep_name\">\n                        </div>\n                        <div class=\"form-group\">\n                            <label for=\"exampleInputPassword1\">Department Desc</label>\n                            <input type=\"text\" class=\"form-control\" required [(ngModel)]=\"model2.dep_desc\"\n                                name=\"dep_desc\" />\n                        </div>\n                    </div>\n                </form>\n            </div>\n            <div class=\"modal-footer\">\n                <button type=\"submit\" (click)=\"submitForm2()\" class=\"btn btn-primary\">Submit</button>\n                <button type=\"reset\" (click)=\"resetForm2()\" id=\"modalCloser\" class=\"btn btn-secondary\"\n                    data-dismiss=\"modal\">Cancel</button>\n            </div>\n        </div>\n    </div>\n</div>","import { Component, OnInit } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { LayoutService } from 'src/app/layout/services/layout.service';\nimport { ToastrService } from 'ngx-toastr';\n\n@Component({\n  selector: 'app-home',\n  templateUrl: './home.component.html',\n  styleUrls: ['./home.component.scss']\n})\nexport class HomeComponent implements OnInit {\n public deps : any[] = [];\n model2 = {\n  dep_name:'',\n  dep_desc:'',\n  dep_supervisor_id:0,\n  parent_id: 0,\n  dep_supervisor_name:''\n }\n  constructor(private http: HttpClient,public layoutService: LayoutService,private toastr: ToastrService) {\n    layoutService.subHeaderTitle = 'Departments';\n  }\n\n  ngOnInit(): void {\n    this.getDepartments();\n    //this.toastr.success('Page Loaded Successfully', 'Successeded Process')\n  }\n\n  resetForm2(){\n    this.model2 = {\n      dep_name:'',\n      dep_desc:'',\n      dep_supervisor_id:0,\n      parent_id: 0,\n      dep_supervisor_name:''\n     }\n\n     document.getElementById('modalCloser')?.click();\n  }\n\n  loadModel(depId:number,openModal:boolean){\n    this.deps.forEach((d)=>{\n      if(d.dep_id == depId){\n        this.model2 = d;\n        if(openModal){\n          document.getElementById('modalCloser')?.click();\n        }\n      }\n    });\n  }\n\n  submitForm2(){\n    this.http.post(\"https://madrastyapis.azurewebsites.net/api/department\",this.model2).subscribe(\n      {\n        next: (result : any)=>{\n          this.toastr.warning('dfnjsdknvljkdcnvlkjvnxczm,vn.mz,xn')\n          this.getDepartments();\n          this.resetForm2();\n        },\n        error: (err)=>{\n          this.toastr.error('dfnjsdknvljkdcnvlkjvnxczm,vn.mz,xn')\n\n          console.log(err);\n        }\n      }\n    )\n  }\n\n  openModal(depId:number){\n    this.deps.forEach((d)=>{\n      if(d.dep_id == depId){\n        this.model2 = d;\n        document.getElementById('modalOpener')?.click();\n      }\n    });\n  }\n\n  getDepartments(){\n    this.http.get(\"https://madrastyapis.azurewebsites.net/api/department\").subscribe(\n      {\n        next: (result : any)=>{\n          this.deps = result;\n        },\n        error: (err)=>{\n          console.log(err);\n        }\n      }\n    )\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}